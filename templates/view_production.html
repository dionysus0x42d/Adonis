{% extends "base.html" %}

{% block title %}æŸ¥è©¢ä½œå“{% endblock %}

{% block content %}
<div class="search-container">
    <h1>ğŸ” ä½œå“æŸ¥è©¢</h1>
    
    <!-- åŸºç¤æœå°‹å€ -->
    <div class="filter-section">
        <!-- å…¬å¸ -->
        <div class="filter-row">
            <label>ğŸ¢ å…¬å¸:</label>
            <div id="studioFilters" class="checkbox-group"></div>
        </div>
        
        <!-- æ¼”å“¡ -->
        <div class="filter-row">
            <label>ğŸ‘¤ æ¼”å“¡:</label>
            <div class="input-wrapper">
                <input type="text" id="actorSearch" placeholder="é–‹å§‹è¼¸å…¥ä»¥æœå°‹æ¼”å“¡..." autocomplete="off">
                <div id="actorSuggestions" class="autocomplete-suggestions"></div>
                <div id="selectedActors" class="selected-items"></div>
            </div>
        </div>
        <!-- ä½œå“é¡å‹ -->
        <div class="filter-row">
            <label>ğŸ“¦ é¡¯ç¤ºå…§å®¹:</label>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" value="album" data-filter="types">
                    <span>å°ˆè¼¯(å«ç‰‡æ®µ)</span>
                </label>
                <label>
                    <input type="checkbox" value="single" data-filter="types">
                    <span>å–®ç‰‡</span>
                </label>
            </div>
        </div>
        <!-- æ—¥æœŸç¯„åœ -->
        <div class="filter-row">
            <label>ğŸ“… æ—¥æœŸç¯„åœ:</label>
            <div class="input-wrapper date-range-wrapper">
                <input type="text" id="dateFrom" placeholder="YYYY.MM" maxlength="7">
                <span class="range-separator">åˆ°</span>
                <input type="text" id="dateTo" placeholder="YYYY.MM" maxlength="7">
            </div>
        </div>
        
        <!-- é—œéµå­— -->
        <div class="filter-row">
            <label>ğŸ”¤ é—œéµå­—:</label>
            <div class="input-wrapper">
                <input type="text" id="keyword" placeholder="æœå°‹ code / title / comment">
            </div>
        </div>
        
        <!-- Tags -->
        <div class="filter-row">
            <label>ğŸ·ï¸ Sex Act:</label>
            <div id="sexActFilters" class="checkbox-group"></div>
        </div>
        
        <div class="filter-row">
            <label>ğŸ¨ Style:</label>
            <div id="styleFilters" class="checkbox-group"></div>
        </div>
        
        <div class="filter-row">
            <label>ğŸ’ª Body Type:</label>
            <div id="bodyTypeFilters" class="checkbox-group"></div>
        </div>
        
        <div class="filter-row">
            <label>ğŸ“¦ Source:</label>
            <div id="sourceFilters" class="checkbox-group"></div>
        </div>
        
        <!-- æ“ä½œæŒ‰éˆ• -->
        <div class="filter-actions">
            <button id="clearFilters" class="btn-secondary">æ¸…é™¤æ‰€æœ‰ç¯©é¸</button>
            <span id="resultCount" class="result-count"></span>
        </div>
    </div>
    
    <!-- æ’åºèˆ‡åˆ†é æ§åˆ¶ -->
    <div class="controls">
        <div class="sort-controls">
            <label>æ’åº:</label>
            <button class="sort-btn active" data-field="studio" data-order="asc">
                Studio â–²
            </button>
            <span class="sort-separator">></span>
            <button class="sort-btn" data-field="code" data-order="asc">
                Code â–²
            </button>
            <span class="sort-separator">></span>
            <button class="sort-btn" data-field="title" data-order="asc">
                Title â–²
            </button>
            <span class="sort-separator">></span>
            <button class="sort-btn" data-field="date" data-order="asc">
                Date â–²
            </button>
        </div>
        <div class="page-controls">
            <label>æ¯é é¡¯ç¤º:</label>
            <select id="perPage">
                <option value="20">20</option>
                <option value="30" selected>30</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
            <label class="full-display-toggle">
                <input type="checkbox" id="fullDisplay"> é¡¯ç¤ºå®Œæ•´å…§å®¹
            </label>
        </div>
    </div>
    
    <!-- çµæœè¡¨æ ¼ -->
    <div class="results-container">
        <table id="resultsTable" class="results-table">
            <thead>
                <tr>
                    <th style="width: 40px;"></th>
                    <th>Code</th>
                    <th>Studio</th>
                    <th>Title</th>
                    <th>Date</th>
                    <th>Actors</th>
                    <th>Sex Act</th>
                    <th>Style</th>
                    <th>Body Type</th>
                    <th>Source</th>
                    <th>Comment</th>
                </tr>
            </thead>
            <tbody id="resultsBody">
                <tr>
                    <td colspan="11" style="text-align: center; padding: 50px;">
                        è¼‰å…¥ä¸­...
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- åˆ†é  -->
    <div id="pagination" class="pagination"></div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='view_production.css') }}">
<script src="{{ url_for('static', filename='view_production.js') }}"></script>
{% endblock %}